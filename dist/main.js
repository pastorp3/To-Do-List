(()=>{"use strict";const t=t=>{localStorage.library=JSON.stringify(t),localStorage.setItem("counter","1")};function e(e,i,s,d){const c=document.getElementById(e),r=document.createElement("form"),o=document.createElement("input"),l=document.createElement("textarea"),a=document.createElement("button"),p=document.createElement("select"),m=document.createElement("span"),u=document.createElement("option"),h=document.createElement("option"),g=document.createElement("option"),b=document.createElement("input");c.appendChild(r),r.appendChild(o),r.appendChild(l),r.appendChild(m),r.appendChild(p),p.appendChild(u),p.appendChild(h),p.appendChild(g),r.appendChild(b),r.appendChild(a),r.setAttribute("id","edit-form"),o.setAttribute("class","input"),o.setAttribute("placeholder","New title..."),o.setAttribute("id","inputtask-edit"),l.setAttribute("class","margin-right"),l.setAttribute("id","description-edit"),a.textContent="+",a.setAttribute("class","addtaskbttn input"),a.setAttribute("type","button"),a.setAttribute("id","bttn-edit"),u.textContent="low",h.textContent="medium",g.textContent="high",m.textContent="Prority: ",m.setAttribute("id","textpriority-edit"),p.setAttribute("class","margin-right input "),p.setAttribute("id","selectpriority-edit"),b.setAttribute("type","date"),b.setAttribute("class","input  margin-right"),b.setAttribute("id","date-edit"),a.addEventListener("click",(e=>{!function(e,i,s){const d=e.tasks[i],c=document.getElementById("inputtask-edit"),r=document.getElementById("selectpriority-edit"),o=document.getElementById("date-edit"),l=document.getElementById("description-edit");d.title=c.value,d.priority=r.value,d.date=o.value,d.description=l.value,d.id=c.value,t(s),n(e,s)}(i,s,d)}))}const n=(i,s)=>{const d=document.getElementById("tasks");c(d);const r=document.createElement("div"),o=i.tasks;d.appendChild(r),r.setAttribute("class","text-padding");for(let d=0;d<o.length;d+=1){const c=document.createElement("div"),l=document.createElement("span"),a=document.createElement("span"),p=document.createElement("span"),m=document.createElement("button"),u=document.createElement("button"),h=document.createElement("button");r.appendChild(c),c.appendChild(m),c.appendChild(l),c.appendChild(p),c.appendChild(a),c.appendChild(u),c.appendChild(h),c.setAttribute("id",""+o[d].id),l.setAttribute("class","margin-right"),p.setAttribute("class","margin-right"),l.textContent=""+o[d].title,p.textContent=""+o[d].date,a.textContent=""+o[d].description,u.setAttribute("type","button"),u.setAttribute("class","input"),u.innerHTML='<img class="trashicon" src="https://cdn0.iconfinder.com/data/icons/glyphpack/19/edit-512.png">',h.setAttribute("class","input"),h.setAttribute("type","button"),h.innerHTML='<img class="trashicon" src="https://cdn2.iconfinder.com/data/icons/business-1-58/48/69-512.png">',"complete"===o[d].status&&(l.classList.toggle("complete"),p.classList.toggle("complete")),"low"===o[d].priority?m.setAttribute("class","prioritybttn-low"):"medium"===o[d].priority?m.setAttribute("class","prioritybttn-medium "):m.setAttribute("class","prioritybttn-high"),m.addEventListener("click",(e=>{l.classList.toggle("complete"),p.classList.toggle("complete"),m.classList.toggle("completebtn"),"pending"===o[d].status?o[d].status="complete":o[d].status="pending",t(s)})),u.addEventListener("click",(t=>{e(o[d].id,i,d,s)})),h.addEventListener("click",(e=>{o.splice(d,1),n(i),t(s)}))}},i=n,s=(e,n,i)=>{const s=document.getElementById(""+n),d=e.tasks,c=document.createElement("div");s.appendChild(c),c.setAttribute("class","text-padding");for(let e=0;e<d.length;e+=1){const n=document.createElement("div"),s=document.createElement("span"),r=document.createElement("span"),o=document.createElement("span"),l=document.createElement("button");c.appendChild(n),n.appendChild(l),n.appendChild(s),n.appendChild(r),n.appendChild(o),n.setAttribute("id",""+d[e].id),s.setAttribute("class","margin-right"),r.setAttribute("class","margin-right"),s.textContent=""+d[e].title,r.textContent=""+d[e].date,o.textContent=""+d[e].description,"complete"===d[e].status&&(s.classList.toggle("complete"),r.classList.toggle("complete")),"low"===d[e].priority?l.setAttribute("class","prioritybttn-low"):"medium"===d[e].priority?l.setAttribute("class","prioritybttn-medium "):l.setAttribute("class","prioritybttn-high"),l.addEventListener("click",(n=>{s.classList.toggle("complete"),r.classList.toggle("complete"),l.classList.toggle("completebtn"),"pending"===d[e].status?d[e].status="complete":d[e].status="pending",t(i)}))}};let d=0;function c(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function r(){const t=document.getElementById("textpriority"),e=document.getElementById("selectpriority"),n=document.getElementById("date"),i=document.getElementById("description");t.classList.toggle("hide"),e.classList.toggle("hide"),n.classList.toggle("hide"),i.classList.toggle("hide")}const o=(e,n,o)=>{if("Todos"===e.title)((t,e,n)=>{const i=document.getElementById("container-right");c(i);const d=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div"),l=document.createElement("hr"),a=document.createElement("div");i.appendChild(d),d.appendChild(r),d.setAttribute("class","card"),r.appendChild(o),r.appendChild(l),r.appendChild(a),a.setAttribute("id","tasks"),o.textContent=""+t.title,o.setAttribute("class","header-card "),l.setAttribute("class","borderline");for(let t=1;t<e.length;t+=1){const i=document.createElement("div"),d=document.createElement("p");r.appendChild(i),i.appendChild(d),i.setAttribute("id",""+t),i.setAttribute("class","text-padding"),d.textContent=e[t].title+":",d.setAttribute("class","todos-project"),s(e[t],t,n)}})(e,n,o);else{const n=document.getElementById("container-right");c(n);const s=document.createElement("div"),l=document.createElement("div"),a=document.createElement("div"),p=document.createElement("hr"),m=document.createElement("div"),u=document.createElement("div");n.appendChild(s),s.appendChild(l),s.setAttribute("class","card"),l.appendChild(a),l.appendChild(p),l.appendChild(m),l.appendChild(u),m.setAttribute("id","tasks"),u.setAttribute("id","tasksform"),function(e,n){const s=document.getElementById("tasksform"),c=document.createElement("form"),o=document.createElement("input"),l=document.createElement("textarea"),a=document.createElement("button"),p=document.createElement("select"),m=document.createElement("span"),u=document.createElement("option"),h=document.createElement("option"),g=document.createElement("option"),b=document.createElement("input");s.appendChild(c),c.appendChild(o),c.appendChild(l),c.appendChild(m),c.appendChild(p),p.appendChild(u),p.appendChild(h),p.appendChild(g),c.appendChild(b),c.appendChild(a),s.setAttribute("class","text-padding"),o.setAttribute("class","input"),o.setAttribute("placeholder","Add new task.."),o.setAttribute("id","inputtask"),l.setAttribute("class","margin-right hide"),l.setAttribute("id","description"),a.textContent="+",a.setAttribute("class","addtaskbttn input"),a.setAttribute("type","button"),u.textContent="low",h.textContent="medium",g.textContent="high",m.textContent="Prority: ",m.setAttribute("class","hide"),m.setAttribute("id","textpriority"),p.setAttribute("class","margin-right input hide"),p.setAttribute("id","selectpriority"),b.setAttribute("type","date"),b.setAttribute("class","input hide margin-right"),b.setAttribute("id","date"),o.addEventListener("click",r),a.addEventListener("click",(s=>{!function(t){const e=document.getElementById("inputtask"),n=document.getElementById("selectpriority"),i=document.getElementById("date"),s=document.getElementById("description"),c=new class{constructor(t,e,n,i){this.title=t,this.priority=e,this.date=n,this.description=i,this.id=t,this.status="pending"}}(e.value,n.value,i.value,s.value);t.tasks.push(c),d=1}(e),document.getElementsByTagName("form")[1].reset(),r(),i(e),t(n)}))}(e,o),a.textContent=""+e.title,a.setAttribute("class","header-card "),p.setAttribute("class","borderline")}},l=class{constructor(t){this.title=t,this.tasks=[]}},a=new class{constructor(){this.myprojects=[],this.projects_cont=document.getElementById("projects-container")}addProject(t,e){this.myprojects.push(t),this.viewprojects(e)}viewprojects(e){this.clear();const n=document.createElement("div");document.getElementById("projects-container").appendChild(n);for(let s=0;s<this.myprojects.length;s+=1){const d=document.createElement("div"),c=document.createElement("span"),r=document.createElement("button");n.appendChild(d),d.appendChild(c),d.appendChild(r),c.textContent=this.myprojects[s].title,d.setAttribute("id",this.myprojects[s].title),r.setAttribute("class","input"),r.setAttribute("type","button"),c.setAttribute("class","margin-right-trashicon"),r.addEventListener("click",(n=>{this.myprojects.splice(s,1),this.viewprojects(),t(e)})),r.innerHTML='<img class="trashicon" src="https://cdn2.iconfinder.com/data/icons/business-1-58/48/69-512.png">',c.addEventListener("click",(n=>{o(this.myprojects[s],this.myprojects,e),i(this.myprojects[s],e),t(e)})),"Todos"===this.myprojects[s].title&&(o(this.myprojects[s],this.myprojects,e),i(this.myprojects[s],e),t(e))}}clear(){const t=this.projects_cont;for(;t.firstChild;)t.removeChild(t.firstChild)}},p=document.querySelector(".addporjectbutton"),m=document.getElementsByTagName("form")[0],u=document.querySelector(".input"),h=new l("Todos");if(null==localStorage.getItem("counter"))a.addProject(h);else{const t=JSON.parse(localStorage.library);if(t.myprojects.length>0)for(let e=0;e<t.myprojects.length;e+=1)a.addProject(t.myprojects[e],a)}p.addEventListener("click",(e=>{const n=new l(u.value);a.addProject(n,a),m.reset(),t(a)}))})();